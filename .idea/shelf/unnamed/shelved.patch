Index: react-redux-training-app/package.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\r\n\t\"name\": \"ps-redux\",\r\n\t\"description\": \"React and Redux Pluralsight course by Cory House\",\r\n\t\"scripts\": {\r\n\t\t\"start\": \"run-p start:dev start:api\",\r\n\t\t\"start:dev\": \"webpack-dev-server --config webpack.config.dev.js --port 3000\",\r\n\t\t\"prestart:api\": \"node tools/createMockDb.js\",\r\n\t\t\"start:api\": \"node tools/apiServer.js\",\r\n\t\t\"test\": \"jest --watch\"\r\n\t},\r\n\t\"jest\": {\r\n\t\t\"setupFiles\": [\r\n\t\t\t\"./tools/testSetup.js\"\r\n\t\t],\r\n\t\t\"moduleNameMapper\": {\r\n\t\t\t\"\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$\": \"<rootDir>/tools/fileMock.js\",\r\n\t\t\t\"\\\\.(css|less)$\": \"<rootDir>/tools/styleMock.js\"\r\n\t\t}\r\n\t},\r\n\t\"dependencies\": {\r\n\t\t\"bootstrap\": \"4.3.1\",\r\n\t\t\"immer\": \"2.1.3\",\r\n\t\t\"prop-types\": \"15.7.2\",\r\n\t\t\"react\": \"16.8.4\",\r\n\t\t\"react-dom\": \"16.8.4\",\r\n\t\t\"react-redux\": \"6.0.1\",\r\n\t\t\"react-router-dom\": \"5.0.0\",\r\n\t\t\"react-toastify\": \"4.5.2\",\r\n\t\t\"redux\": \"4.0.1\",\r\n\t\t\"redux-thunk\": \"2.3.0\",\r\n\t\t\"reselect\": \"4.0.0\"\r\n\t},\r\n\t\"devDependencies\": {\r\n\t\t\"@babel/core\": \"7.3.4\",\r\n\t\t\"babel-eslint\": \"10.0.1\",\r\n\t\t\"babel-loader\": \"8.0.5\",\r\n\t\t\"babel-preset-react-app\": \"7.0.2\",\r\n\t\t\"css-loader\": \"2.1.1\",\r\n\t\t\"cssnano\": \"4.1.10\",\r\n\t\t\"enzyme\": \"3.9.0\",\r\n\t\t\"enzyme-adapter-react-16\": \"1.11.2\",\r\n\t\t\"eslint\": \"^5.16.0\",\r\n\t\t\"eslint-loader\": \"2.1.2\",\r\n\t\t\"eslint-plugin-import\": \"2.16.0\",\r\n\t\t\"eslint-plugin-react\": \"7.12.4\",\r\n\t\t\"fetch-mock\": \"7.3.1\",\r\n\t\t\"html-webpack-plugin\": \"3.2.0\",\r\n\t\t\"http-server\": \"0.11.1\",\r\n\t\t\"jest\": \"24.5.0\",\r\n\t\t\"json-server\": \"0.14.2\",\r\n\t\t\"mini-css-extract-plugin\": \"0.5.0\",\r\n\t\t\"node-fetch\": \"^2.3.0\",\r\n\t\t\"npm-run-all\": \"4.1.5\",\r\n\t\t\"postcss-loader\": \"3.0.0\",\r\n\t\t\"react-test-renderer\": \"16.8.4\",\r\n\t\t\"react-testing-library\": \"6.0.0\",\r\n\t\t\"redux-immutable-state-invariant\": \"2.1.0\",\r\n\t\t\"redux-mock-store\": \"1.5.3\",\r\n\t\t\"rimraf\": \"2.6.3\",\r\n\t\t\"style-loader\": \"0.23.1\",\r\n\t\t\"webpack\": \"4.29.6\",\r\n\t\t\"webpack-bundle-analyzer\": \"^3.3.2\",\r\n\t\t\"webpack-cli\": \"3.3.0\",\r\n\t\t\"webpack-dev-server\": \"3.2.1\"\r\n\t},\r\n\t\"engines\": {\r\n\t\t\"node\": \">=8\"\r\n\t},\r\n\t\"babel\": {\r\n\t\t\"presets\": [\r\n\t\t\t\"babel-preset-react-app\"\r\n\t\t]\r\n\t},\r\n\t\"eslintConfig\": {\r\n\t\t\"extends\": [\r\n\t\t\t\"eslint:recommended\",\r\n\t\t\t\"plugin:react/recommended\",\r\n\t\t\t\"plugin:import/errors\",\r\n\t\t\t\"plugin:import/warnings\"\r\n\t\t],\r\n\t\t\"parser\": \"babel-eslint\",\r\n\t\t\"parserOptions\": {\r\n\t\t\t\"ecmaVersion\": 2018,\r\n\t\t\t\"sourceType\": \"module\",\r\n\t\t\t\"ecmaFeatures\": {\r\n\t\t\t\t\"jsx\": true\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"env\": {\r\n\t\t\t\"browser\": true,\r\n\t\t\t\"node\": true,\r\n\t\t\t\"es6\": true,\r\n\t\t\t\"jest\": true\r\n\t\t},\r\n\t\t\"rules\": {\r\n\t\t\t\"no-debugger\": \"off\",\r\n\t\t\t\"no-console\": \"off\",\r\n\t\t\t\"no-unused-vars\": \"warn\",\r\n\t\t\t\"react/prop-types\": \"warn\"\r\n\t\t},\r\n\t\t\"settings\": {\r\n\t\t\t\"react\": {\r\n\t\t\t\t\"version\": \"detect\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"root\": true\r\n\t}\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- react-redux-training-app/package.json	(revision 078531a0c8edf736f52396f31b394eb1ad47cf27)
+++ react-redux-training-app/package.json	(date 1561694173678)
@@ -105,4 +105,4 @@
 		},
 		"root": true
 	}
-}
\ No newline at end of file
+}
Index: react-redux-training-app/src/components/courses/ManageCoursePage.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { loadCourses, saveCourse } from \"../../redux/actions/courseActions\";\r\nimport { loadAuthors } from \"../../redux/actions/authorActions\";\r\nimport propTypes from \"prop-types\";\r\nimport CourseForm from \"./CourseForm\";\r\nimport { newCourse } from \"../../tools/mockData\";\r\nimport Spinner from \"../common/Spinner\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n//deconstructing props and rest operator for any other that has not been deconstructed (in this case, props itself)\r\nfunction ManageCoursePage({ courses, authors, loadAuthors, loadCourses, saveCourse, history, ...props }) {\r\n\r\n\t//using the spread operator here (not rest as above in the arguments list)\r\n\tconst [course, setCourse] = useState({ ...props.course });\r\n\tconst [errors, setErrors] = useState({ ...props.errors });\r\n\tconst [saving, setSaving] = useState(false);\r\n\r\n\t/**\r\n\t   Example of useEffect hooks:\r\n\t   The second argument (in this case an empty array), is a list of objects to be watched for changes. \r\n\t   Any time any object in that array changes the hook is executed.\r\n\t   In this case it will be executed only once, because the array is empty\r\n\t*/\r\n\tuseEffect(() => {\r\n\r\n\t\tif (courses.length === 0) {\r\n\t\t\tloadCourses().catch(error => {\r\n\t\t\t\talert(\"Loading courses failed \" + error);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetCourse({ ...props.course });\r\n\t\t}\r\n\r\n\t\tif (authors.length === 0) {\r\n\t\t\tloadAuthors().catch(error => {\r\n\t\t\t\talert(\"Loading authors failed \" + error);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}, [props.course]);\r\n\r\n\tfunction handleChange(event) {\r\n\t\tconst { name, value } = event.target; //deconstructing the event\r\n\t\tsetCourse(prevCourse => ({\r\n\t\t\t...prevCourse,\r\n\t\t\t[name]: name === \"authorId\" ? parseInt(value, 10) : value\r\n\t\t}\r\n\t\t))\r\n\t}\r\n\r\n\tfunction formIsValid() {\r\n\t\tconst { title, authorId, category } = course;\r\n\t\tconst errors = {};\r\n\r\n\t\tif (!title) errors.title = \"Title is required.\";\r\n\t\tif (!authorId) errors.author = \"Author is required\";\r\n\t\tif (!category) errors.category = \"Category is required\";\r\n\r\n\t\tsetErrors(errors);\r\n\t\t// Form is valid if the errors object still has no properties\r\n\t\treturn Object.keys(errors).length === 0;\r\n\t}\r\n\r\n\tfunction handleSave(event) {\r\n\t\tevent.preventDefault();\r\n\t\tif (!formIsValid()) return;\r\n\t\tsetSaving(true);\r\n\t\tsaveCourse(course).then(() => {\r\n\t\t\ttoast.success(\"Course saved.\");\r\n\t\t\thistory.push(\"/courses\");\r\n\t\t}).catch(error => {\r\n\t\t\tsetSaving(false);\r\n\t\t\tsetErrors({ onSave: error.message });\r\n\t\t});\r\n\t}\r\n\r\n\treturn authors.length === 0 || courses.length === 0\r\n\t\t? (<Spinner />)\r\n\t\t: <CourseForm course={course} errors={errors} onSave={handleSave} saving={saving} onChange={handleChange} authors={authors} />;\r\n}\r\n\r\nManageCoursePage.propTypes = {\r\n\tcourse: propTypes.object.isRequired,\r\n\tcourses: propTypes.array.isRequired,\r\n\tauthors: propTypes.array.isRequired,\r\n\tloadCourses: propTypes.func.isRequired,\r\n\tloadAuthors: propTypes.func.isRequired,\r\n\tsaveCourse: propTypes.func.isRequired,\r\n\terrors: propTypes.object.isRequired,\r\n\thistory: propTypes.object.isRequired\r\n}\r\n\r\nexport function getCourseBySlug(courses, slug) {\r\n\treturn courses.find(course => course.slug === slug || null);\r\n}\r\n\r\n/*\r\n  This injects the state used/supported by this container component into the props, \r\n  to be passed down to the view\r\n\r\n  The ownProps argument is a reference to the component's props, which we will use here \r\n  to get the URL injected by ROuter.\r\n*/\r\nfunction mapStateToProps(state, ownProps) {\r\n\tconst slug = ownProps.match.params.slug;\r\n\tconst _course = slug && state.courses.length > 0 ? getCourseBySlug(state.courses, slug) : newCourse;\r\n\treturn {\r\n\t\tcourse: _course,\r\n\t\tcourses: state.courses,\r\n\t\tauthors: state.authors\r\n\t}\r\n}\r\n\r\n//this injects the actions supported by this container component into the props, to be passed down to the view\r\nconst mapDispatchToProps = {\r\n\tloadCourses: loadCourses,\r\n\tloadAuthors: loadAuthors,\r\n\tsaveCourse: saveCourse\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageCoursePage);\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- react-redux-training-app/src/components/courses/ManageCoursePage.js	(revision 078531a0c8edf736f52396f31b394eb1ad47cf27)
+++ react-redux-training-app/src/components/courses/ManageCoursePage.js	(date 1561694554911)
@@ -4,7 +4,7 @@
 import { loadAuthors } from "../../redux/actions/authorActions";
 import propTypes from "prop-types";
 import CourseForm from "./CourseForm";
-import { newCourse } from "../../tools/mockData";
+import { newCourse } from "../../../tools/mockData";
 import Spinner from "../common/Spinner";
 import { toast } from "react-toastify";
 
